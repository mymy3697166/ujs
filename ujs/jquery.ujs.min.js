String.prototype.format=function(){var source=this;var part=/\{\d+\}/g;var res=source.match(part);for(var i=0;i<res.length;i++){var index=parseInt(res[i].substring(res[i].indexOf("{")+1,res[i].indexOf("}")));source=source.replace(res[i],arguments[index])};return source};
Array.prototype.contains=function(item){for(var i in this){if(this[i]==item){return true}};return false};
$.extend({elements:{},render:function(){$(".ujs-layout").each(function(){var el=$(this).layout();if(el.attr("id")!=undefined)$.elements[el.attr("id")]=el});$(".ujs-accordion").each(function(){var el=$(this).accordion();if(el.attr("id")!=undefined)$.elements[el.attr("id")]=el});$(".ujs-tabs").each(function(){var el=$(this).tabs({items:[{title:"哈哈",selected:false,iconCls:"icon-node",closable:true}]});if(el.attr("id")!=undefined)$.elements[el.attr("id")]=el})}});
$.fn.extend({
    layout:function(option){var el=this,opts={regions:{},autoHeight:true,regionTags:["north","south","west","east","center"]};if(el.length==0){return};if(el.height()!=0){opts.autoHeight=false};el.children().each(function(){var tag=$(this).attr("region");if(!opts.regionTags.contains(tag)){$(this).remove()}else{var region=opts.regions[$(this).attr("region")]={title:"",split:true,iconCls:"",expand:true,url:""};for(var i in region){if(typeof(region[i])=="string"){if(typeof($(this).attr(i))=="string"){region[i]=$(this).attr(i)};if(option!=undefined&&option[tag]!=undefined&&option[tag][i]!=undefined){region[i]=option[tag][i]}}else{if($(this).attr(i)=="false"){region[i]=false};if(option!=undefined&&option[tag]!=undefined&&option[tag][i]!=undefined&&option[tag][i]==false){region[i]=false}}}}});if(option!=undefined){for(var i in option){if(!opts.regionTags.contains(i)||opts.regions[i]!=undefined)continue;var region=opts.regions[$(this).attr("region")]={title:"",split:true,iconCls:"",expand:true,url:""};for(var r in region){if(typeof(region[t])=="string"){if(option[i][r]!=undefined){region[r]=option[i][r]}}else{if(option[i][r]==false){region[r]=false}}}}};function create(){for(var i in opts.regions){var el_region=el.find("div[region={0}]".format(i)),el_region_header,el_region_panel,el_region_hide;if(el_region.length>0){el_region.addClass("ujs-layout-{0}".format(i));el_region.removeAttr("region");el_region.removeAttr("split");el_region.removeAttr("title");el_region.removeAttr("iconCls");el_region.removeAttr("url")}else{el_region=$("<div class=\"ujs-layout-{0}\"></div>".format(i));el.append(el_region)};var html=el_region.html();el_region.empty();if(opts.regions[i].title!=""){var el_region_header_expand=i=="center"?"":"<span class=\"{0}\"></span>".format(i);el_region_header=$("<div class=\"ujs-layout-header\"><label class=\"{0}\">{1}</label>{2}</div>".format(opts.regions[i].iconCls,opts.regions[i].title,el_region_header_expand));el_region.append(el_region_header);if(i!="center"){el_region_hide=$("<div class=\"ujs-layout-{0}-hide\"><span class=\"{0}\"></span></div>".format(i));el_region.after(el_region_hide);el_region_header.children("span").hover(function(){$(this).css("opacity",1)},function(){$(this).css("opacity",0.6)}).click(function(){var region=$(this).attr("class");opts.regions[region].expand=false;render(false)});el_region_hide.click(function(){var region=$(this).attr("class").split("-")[2];if(region=="north")$(".ujs-layout-{0}".format(region)).animate({top:0});if(region=="south")$(".ujs-layout-{0}".format(region)).animate({top:el.height()-$(".ujs-layout-{0}".format(region)).outerHeight()});if(region=="west")$(".ujs-layout-{0}".format(region)).animate({left:0});if(region=="east")$(".ujs-layout-{0}".format(region)).animate({left:el.width()-$(".ujs-layout-{0}".format(region)).outerWidth()});$(".ujs-layout-{0}".format(region)).mouseleave(function(){$(this).unbind("mouseleave");var region=$(this).attr("class").split("-")[2];if(region=="north")$(".ujs-layout-{0}".format(region)).animate({top:-$(".ujs-layout-{0}".format(region)).outerHeight()});if(region=="south")$(".ujs-layout-{0}".format(region)).animate({top:el.height()});if(region=="west")$(".ujs-layout-{0}".format(region)).animate({left:-$(".ujs-layout-{0}".format(region)).outerWidth()});if(region=="east")$(".ujs-layout-{0}".format(region)).animate({left:el.width()})})});el_region_hide.children("span").hover(function(){$(this).css("opacity",1)},function(){$(this).css("opacity",0.6)}).click(function(evt){var region=$(this).attr("class");opts.regions[region].expand=true;render();evt.stopPropagation()})}};el_region_panel=$("<div class=\"ujs-layout-panel\">{0}</div>".format(html));el_region.append(el_region_panel);if(opts.regions[i].split&&i!="center"){var el_region_split=$("<div class=\"ujs-layout-{0}-split\"></div>".format(i));el_region.after(el_region_split);el_region_split.mousedown(function(de){var region=$(this).attr("class").split("-")[2],spmove=$("<div class=\"ujs-layout-{0}-split-move\"></div>".format(region)),ismove=true,offset=0,cursor;if(region=="north"||region=="south"){spmove.css({top:$(this).position().top});offset=de.pageY-$(this).position().top;cursor="n-resize"}else{spmove.css({left:$(this).position().left,height:$(this).height(),top:$(this).position().top});offset=de.pageX-$(this).position().left;cursor="w-resize"};el.append(spmove);$("body").bind("selectstart",function(){return false}).css("-moz-user-select","none").css("cursor",cursor);el.mousemove(function(me){if(ismove){if(region=="north"||region=="south")spmove.css({top:me.pageY-offset});else spmove.css({left:me.pageX-offset})}});spmove.mouseup(function(){var regel=el.children(".ujs-layout-{0}".format(region));if(region=="north")regel.height(spmove.position().top);if(region=="south")regel.height(el.height()-spmove.position().top-spmove.outerHeight());if(region=="west")regel.width(spmove.position().left);if(region=="east")regel.width(el.width()-spmove.position().left-spmove.outerWidth());render();spmove.remove();ismove=false;el.unbind("mousemove");$("body").unbind("selectstart").css("-moz-user-select","").css("cursor","default")})})};if(opts.regions[i].url!=""){el_region_panel.empty();var ifr=$("<iframe class=\"ujs-layout-ifr\" src=\"{0}\"></iframe>".format(opts.regions[i].url))el_region_panel.append(ifr)}}};function getregionwh(name){if(opts.regions[name]==undefined)return 0;var region=el.children(".ujs-layout-{0}".format(name));var region_sp=el.children(".ujs-layout-{0}-split".format(name));var region_hd=el.children(".ujs-layout-{0}-hide".format(name));if(name=="north"||name=="south"){var height=0;if(opts.regions[name].expand){if(region.length>0)height+=region.outerHeight();if(region_sp.length>0)height+=region_sp.outerHeight()}else{if(region_hd.length>0)height+=region_hd.outerHeight()};return height};if(name=="west"||name=="east"){var width=0;if(opts.regions[name].expand){if(region.length>0)width+=region.outerWidth();if(region_sp.length>0)width+=region_sp.outerWidth()}else{if(region_hd.length>0)width+=region_hd.outerWidth()};return width}};function render(isrender){var isr=isrender==false?false:true;if(opts.autoHeight)el.height($("body").height()-2);var height=el.height(),width=el.width(),top=0,left=0;for(var i in opts.regions){var opt=opts.regions[i];if(i=="north"){height-=getregionwh(i);top+=getregionwh(i)};if(i=="south"){height-=getregionwh(i)};if(i=="west"){width-=getregionwh(i);left+=getregionwh(i)};if(i=="east"){width-=getregionwh(i)}};el.children(".ujs-layout-north-split").css({top:el.children(".ujs-layout-north").outerHeight()});el.children(".ujs-layout-north .ujs-layout")el.children(".ujs-layout-south-split").css({top:getregionwh("north")+height});el.children(".ujs-layout-west").css({height:height,top:top});el.children(".ujs-layout-west-split").css({height:height,top:top,left:el.children(".ujs-layout-west").outerWidth()});el.children(".ujs-layout-west-hide").css({height:height,top:top});el.children(".ujs-layout-east").css({height:height,top:top});el.children(".ujs-layout-east-split").css({height:height,top:top,left:getregionwh("west")+width});el.children(".ujs-layout-east-hide").css({height:height,top:top});el.children(".ujs-layout-center").css({width:width,height:height,top:top,left:left});function renderhelp(region){if(region=="center")return;var value={north:{expand:{top:0},collapse:{top:-el.children(".ujs-layout-north").outerHeight()}},south:{expand:{top:getregionwh("north")+height+el.children(".ujs-layout-south-split").outerHeight()},collapse:{top:el.height()}},west:{expand:{left:0},collapse:{left:-$(".ujs-layout-west").outerWidth()}},east:{expand:{left:getregionwh("west")+width+el.children(".ujs-layout-east-split").outerWidth()},collapse:{left:el.width()}}};if(opts.regions[region].expand){if(isr)el.children(".ujs-layout-{0}".format(region)).css(value[region].expand);else el.children(".ujs-layout-{0}".format(region)).animate(value[region].expand);el.children(".ujs-layout-{0}-split".format(region)).show()}else{if(isr)el.children(".ujs-layout-{0}".format(region)).css(value[region].collapse);else el.children(".ujs-layout-{0}".format(region)).animate(value[region].collapse);el.children(".ujs-layout-{0}-split".format(region)).hide()}};for(var i in opts.regions){renderhelp(i);var regionHeight=el.children(".ujs-layout-{0}".format(i)).height();var regionHeaderHeight=el.children(".ujs-layout-{0}".format(i)).children(".ujs-layout-header").outerHeight();if(regionHeaderHeight==null){regionHeaderHeight=0};el.children(".ujs-layout-{0}".format(i)).children(".ujs-layout-panel").height(regionHeight-regionHeaderHeight)}};$(window).load(render).resize(render);el.addRegion=function(option){if(option==undefined||option.region==undefined||!opts.regionTags.contains(option.region)){return};if(el.children(".ujs-layout-{0}".format(option.region)).length>0){return};var tag=option.region;var region=opts.regions[tag]={title:"",split:true,iconCls:"",expand:true,url:""};if(typeof(option.title)=="string"){region.title=option.title};if(option.split==false){region.split=option.split};if(typeof(option.iconCls)=="string"){region.iconCls=option.iconCls};if(option.expand==false){region.expand=option.expand};if(typeof(option.url)=="string"){region.url=option.url};var el_region=$("<div class=\"ujs-layout-{0}\"></div>".format(tag));el.append(el_region);if(region.title){var el_region_header_expand=tag=="center"?"":"<span class=\"{0}\"></span>".format(tag);var el_region_header=$("<div class=\"ujs-layout-header\"><label class=\"{0}\">{1}</label>{2}</div>".format(region.iconCls,region.title,el_region_header_expand));el_region.append(el_region_header);if(tag!="center"){el_region_header.children("span").hover(function(){$(this).css("opacity",1)},function(){$(this).css("opacity",0.6)}).click(function(){region.expand=false;render(false)});var el_region_hide=$("<div class=\"ujs-layout-{0}-hide\"><span class=\"{0}\"></span></div>".format(tag));el_region.after(el_region_hide);el_region_hide.click(function(){if(tag=="north")$(".ujs-layout-{0}".format(tag)).animate({top:0});if(tag=="south")$(".ujs-layout-{0}".format(tag)).animate({top:el.height()-$(".ujs-layout-{0}".format(tag)).outerHeight()});if(tag=="west")$(".ujs-layout-{0}".format(tag)).animate({left:0});if(tag=="east")$(".ujs-layout-{0}".format(tag)).animate({left:el.width()-$(".ujs-layout-{0}".format(tag)).outerWidth()});$(".ujs-layout-{0}".format(tag)).mouseleave(function(){$(this).unbind("mouseleave");if(tag=="north")$(".ujs-layout-{0}".format(tag)).animate({top:-$(".ujs-layout-{0}".format(tag)).outerHeight()});if(tag=="south")$(".ujs-layout-{0}".format(tag)).animate({top:el.height()});if(tag=="west")$(".ujs-layout-{0}".format(tag)).animate({left:-$(".ujs-layout-{0}".format(tag)).outerWidth()});if(tag=="east")$(".ujs-layout-{0}".format(tag)).animate({left:el.width()})})});el_region_hide.children("span").hover(function(){$(this).css("opacity",1)},function(){$(this).css("opacity",0.6)}).click(function(evt){region.expand=true;render();evt.stopPropagation()})}};var el_region_panel=$("<div class=\"ujs-layout-panel\"></div>");el_region.append(el_region_panel);if(region.split&&tag!="center"){var el_region_split=$("<div class=\"ujs-layout-{0}-split\"></div>".format(tag));el_region.after(el_region_split);el_region_split.mousedown(function(de){var spmove=$("<div class=\"ujs-layout-{0}-split-move\"></div>".format(tag)),ismove=true,offset=0,cursor;if(tag=="north"||tag=="south"){spmove.css({top:$(this).position().top});offset=de.pageY-$(this).position().top;cursor="n-resize"}else{spmove.css({left:$(this).position().left,height:$(this).height(),top:$(this).position().top});offset=de.pageX-$(this).position().left;cursor="w-resize"};el.append(spmove);$("body").bind("selectstart",function(){return false}).css("-moz-user-select","none").css("cursor",cursor);el.mousemove(function(me){if(ismove){if(tag=="north"||tag=="south")spmove.css({top:me.pageY-offset});else spmove.css({left:me.pageX-offset})}});spmove.mouseup(function(){var regel=el.children(".ujs-layout-{0}".format(tag));if(tag=="north")regel.height(spmove.position().top);if(tag=="south")regel.height(el.height()-spmove.position().top-spmove.outerHeight());if(tag=="west")regel.width(spmove.position().left);if(tag=="east")regel.width(el.width()-spmove.position().left-spmove.outerWidth());render();spmove.remove();ismove=false;el.unbind("mousemove");$("body").unbind("selectstart").css("-moz-user-select","").css("cursor","default")})})};if(region.url!=""){el_region_panel.empty();var ifr=$("<iframe class=\"ujs-layout-ifr\" src=\"{0}\"></iframe>".format(region.url))el_region_panel.append(ifr)};render()};el.removeRegion=function(region){delete opts.regions[region];$(".ujs-layout-{0},.ujs-layout-{0}-split,.ujs-layout-{0}-hide".format(region)).each(function(){$(this).remove()});render()};el.expand=function(region){if(opts.regions[region]==undefined)return;if(opts.regions[region].title=="")return;if(opts.regions[region].expand)return;$(".ujs-layout-{0}-hide span".format(region)).click()};el.collapse=function(region){if(opts.regions[region]==undefined)return;if(opts.regions[region].title==undefined)return;if(!opts.regions[region].expand)return;$(".ujs-layout-{0} .ujs-layout-header span".format(region)).click()};el.getPanel=function(region){var panel=$(".ujs-layout-{0} .ujs-layout-panel".format(region));if(panel.length==0)return;return panel};el.resize=function(){opts.autoHeight=false;render()};create();return el},
    accordion:function(option){var el=this,opts={multiple:false,items:[]};if(el.length==0){return};if(option!=undefined&&option.multiple!=undefined&&option.multiple==true){opts.multiple=true}else{if(el.attr("multiple")=="multiple"){opts.multiple=true}};function layout(element,item){if(item.selected){if(!opts.multiple){el.children(".ujs-accordion-item-selected").each(function(){$(this).removeClass("ujs-accordion-item-selected");$(this).next().css({height:0,display:"none"})})};element.addClass("ujs-accordion-item-selected");element.next().css({height:"auto",display:"block"})};element.hover(function(){$(this).children("span").css("opacity",1)},function(){$(this).children("span").css("opacity",0.6)}).click(function(){var index=el.children(".ujs-accordion-item").index($(this));if(!opts.multiple){for(var i=0;i<opts.items.length;i++){if(index!=i)opts.items[i].selected=false}};if(opts.items[index].selected){opts.items[index].selected=false}else{opts.items[index].selected=true};render()})};function create(){el.removeAttr("multiple");el.children(".ujs-accordion-item").each(function(){var item={selected:false,title:"",iconCls:""};if($(this).attr("selected")=="selected"){if(!opts.multiple){for(var i=0;i<opts.items.length;i++){opts.items[i].selected=false}};item.selected=true};if(typeof($(this).attr("title"))=="string"){item.title=$(this).attr("title")};if(typeof($(this).attr("iconCls"))=="string"){item.iconCls=$(this).attr("iconCls")};opts.items.push(item);$(this).removeAttr("selected");$(this).removeAttr("title");$(this).removeAttr("iconCls");var el_panel=$("<div class=\"ujs-accordion-panel\"></div>");$(this).after(el_panel);el_panel.html($(this).html());el_panel.attr("ah",el_panel.height());el_panel.height(0);$(this).empty();var el_tt=$("<label class=\"{0}\">{1}</label>".format(item.iconCls,item.title));var el_ct=$("<span></span>");$(this).append(el_tt);$(this).append(el_ct);layout($(this),item)});if(option!=undefined&&option.items!=undefined&&$.isArray(option.items)){for(var i=0;i<option.items.length;i++){el.addItem(option.items[i])}}};function render(){for(var i=0;i<opts.items.length;i++){var item=el.children(".ujs-accordion-item").eq(i);if(opts.items[i].selected){item.addClass("ujs-accordion-item-selected");item.next().css("display","block");item.next().animate({height:parseInt(item.next().attr("ah"))},function(){item.next().css("height","auto")})}else{item.removeClass("ujs-accordion-item-selected");item.next().animate({height:0},function(){$(this).css("display","none")})}}};el.addItem=function(option){var item={title:"",selected:false,iconCls:""};if(option!=undefined&&option.title!=undefined){item.title=option.title};if(option!=undefined&&option.selected!=undefined&&option.selected==true){item.selected=true};if(option!=undefined&&option.iconCls!=undefined){item.iconCls=option.iconCls};opts.items.push(item);var el_item=$("<div class=\"ujs-accordion-item\"><label class=\"{0}\">{1}</label><span></span><div>".format(item.iconCls,item.title));var el_panel=$("<div class=\"ujs-accordion-panel\"></div>");el.append(el_item);el.append(el_panel);layout(el_item,item)};el.removeItem=function(which){var index;if(typeof(which)=="number"){index=which};if(typeof(which)=="string"){for(var i in opts.items){if(opts.items[i].title==which){index=i}}};if(index){el.children(".ujs-accordion-item").eq(index).remove();el.children(".ujs-accordion-panel").eq(index).remove();opts.items.splice(index,1)}};el.getPanel=function(which){if(typeof(which)=="number"){return el.children(".ujs-accordion-panel").eq(which)};if(typeof(which)=="string"){for(var i in opts.items){if(opts.items[i].title==which){return el.children(".ujs-accordion-panel").eq(i)}}};return[]};el.getSelected=function(){return el.children(".ujs-accordion-item-selected").eq(0).next()};el.getSelections=function(){return el.children(".ujs-accordion-item-selected").next()};el.getIndex=function(item){return el.children(".ujs-accordion-item").index(item)};el.select=function(which){if(!opts.multiple){for(var i=0;i<opts.items.length;i++){opts.items[i].selected=false}};if(typeof(which)=="number"){opts.items[which].selected=true};if(typeof(which)=="string"){for(var i=0;i<opts.items.length;i++){if(opts.items[i].title==which){opts.items[i].selected=true}}};render()};el.unselect=function(which){if(typeof(which)=="number"){opts.items[which].selected=false};if(typeof(which)=="string"){for(var i=0;i<opts.items.length;i++){if(opts.items[i].title==which){opts.items[i].selected=false}}};render()};create();return el},
    tabs:function(option){var el=this,opts={showHeader:true,items:[]};if(el.length==0){return};if(option!=undefined&&option.showHeader!=undefined&&option.showHeader==false){opts.showHeader=false}else{if(el.attr("showHeader")=="false"){opts.showHeader=false}};function create(){var el_tabs=$("<div class=\"ujs-tabs-tabs\"><div class=\"ujs-tabs-tabs-items\"></div></div>");var el_items=el_tabs.children(".ujs-tabs-tabs-items");var el_tools=el.children(".ujs-tabs-tools");var el_control=$("<div class=\"ujs-tabs-control\"><a class=\"left\"></a><a class=\"right\"></a></div>");el_tabs.append(el_control);if(el_tools.length>0){el_tabs.append(el_tools)};if(el.children().length>0){el.children().eq(0).before(el_tabs)}else{el.append(el_tabs)};el.children(".ujs-tabs-item").each(function(){var item={title:"",selected:false,iconCls:"",closable:false,url:""};if(typeof($(this).attr("title"))=="string"){item.title=$(this).attr("title")};if($(this).attr("selected")=="selected"){for(var i=0;i<opts.items.length;i++){opts.items[i].selected=false};item.selected=true};if(typeof($(this).attr("iconCls"))=="string"){item.iconCls=$(this).attr("iconCls")};if($(this).attr("closable")=="true"){item.closable=true};if(typeof($(this).attr("url"))=="string"){item.url=$(this).attr("url")};opts.items.push(item);$(this).removeClass("ujs-tabs-item").addClass("ujs-tabs-panel");$(this).removeAttr("title").removeAttr("selected").removeAttr("iconCls").removeAttr("closable").removeAttr("url");if(item.url!=""){$(this).empty();var ifr=$("<iframe class=\"ujs-tabs-panel-ifr\" src=\"{0}\"></iframe>".format(item.url))$(this).append(ifr)};var el_item=$("<div class=\"ujs-tabs-tabs-item\"><label class=\"{0}\">{1}</label>{2}</div>".format(item.iconCls,item.title,item.closable?"<a></a>":""))el_items.append(el_item);el_item.click(function(){var index=$(this).index();el.select(index)}).children("a").click(function(){var index=$(this).parent().index();el.removeItem(index)})});if(option!=undefined&&option.items!=undefined&&$.isArray(option.items)){for(var i=0;i<option.items.length;i++){el.addItem(option.items[i])}};var ismove=false;el_control.children(".left").click(function(){if(ismove){return};var distance=el_items.position().left+100;if(distance>0){distance=0};ismove=true;el_items.animate({left:distance},300,function(){ismove=false})});el_control.children(".right").click(function(){if(ismove){return};var toolswidth=el.find(".ujs-tabs-tabs .ujs-tabs-tools").outerWidth(),controlwidth=el.find(".ujs-tabs-tabs .ujs-tabs-control").outerWidth(),tabsitemswidth=el.find(".ujs-tabs-tabs .ujs-tabs-tabs-items").outerWidth(),tabswidth=el.children(".ujs-tabs-tabs").width();var distance=el_items.position().left-100;if(distance+toolswidth+controlwidth+tabsitemswidth<tabswidth){distance=tabswidth-toolswidth-controlwidth-tabsitemswidth};ismove=true;el_items.animate({left:distance},300,function(){ismove=false})})};function render(){var width=el.width(),tabsitemswidth=4,height=el.height(),tabsheight=0,tabswidth=el.children(".ujs-tabs-tabs").width(),toolswidth=el.find(".ujs-tabs-tabs .ujs-tabs-tools").outerWidth(),controlwidth=el.find(".ujs-tabs-tabs .ujs-tabs-control").outerWidth();if(opts.showHeader){el.children(".ujs-tabs-tabs").show();tabsheight=el.children(".ujs-tabs-tabs").outerHeight()}else{el.children(".ujs-tabs-tabs").hide();tabsheight=0};el.find(".ujs-tabs-tabs .ujs-tabs-tabs-items .ujs-tabs-tabs-item").each(function(){tabsitemswidth+=$(this).outerWidth()+4});el.find(".ujs-tabs-tabs .ujs-tabs-control").css("right",toolswidth);if(tabsitemswidth>tabswidth-toolswidth){el.find(".ujs-tabs-tabs .ujs-tabs-control").show()}else{el.find(".ujs-tabs-tabs .ujs-tabs-control").hide()};el.find(".ujs-tabs-tabs .ujs-tabs-tabs-items").width(tabsitemswidth);for(var i=0;i<opts.items.length;i++){var tab=el.find(".ujs-tabs-tabs .ujs-tabs-tabs-items .ujs-tabs-tabs-item").eq(i);var panel=el.children(".ujs-tabs-panel").eq(i);if(opts.items[i].selected){tab.addClass("ujs-tabs-tabs-item-selected");panel.show()}else{tab.removeClass("ujs-tabs-tabs-item-selected");panel.hide()};panel.css({width:width,height:height-tabsheight,top:tabsheight,left:0})}};el.addItem=function(option){var item={title:"",selected:false,iconCls:"",closable:false,url:""};if(option!=undefined&&typeof(option.title)=="string"){item.title=option.title};if(option!=undefined&&option.selected==true){for(var i=0;i<opts.items.length;i++){opts.items[i].selected=false};item.selected=true};if(option!=undefined&&typeof(option.iconCls)=="string"){item.iconCls=option.iconCls};if(option!=undefined&&option.closable==true){item.closable=true};if(option!=undefined&&typeof(option.url)=="string"){item.url=option.url};opts.items.push(item);var el_item=$("<div class=\"ujs-tabs-tabs-item\"><label class=\"{0}\">{1}</label>{2}</div>".format(item.iconCls,item.title,item.closable?"<a></a>":""))var el_panel=$("<div class=\"ujs-tabs-panel\"></div>");el.find(".ujs-tabs-tabs .ujs-tabs-tabs-items").append(el_item);el.append(el_panel);el_item.click(function(){var index=$(this).index();el.select(index)}).children("a").click(function(){var index=$(this).parent().index();el.removeItem(index)});render()};el.removeItem=function(witch){var index;if(typeof(witch)=="number"){index=witch};if(typeof(witch)=="string"){for(var i=0;i<opts.items.length;i++){if(opts.items[i].title==witch){index=i;break}}};if(opts.items[index].selected){var newindex;if(opts.items.length>1){if(index==0){newindex=1}else{newindex=index-1};opts.items[newindex].selected=true}};opts.items.splice(index,1);el.find(".ujs-tabs-tabs .ujs-tabs-tabs-items .ujs-tabs-tabs-item").eq(index).remove();el.children(".ujs-tabs-panel").eq(index).remove();render()};el.select=function(witch){if(typeof(witch)=="number"){if(opts.items[witch].selected){return};for(var i=0;i<opts.items.length;i++){opts.items[i].selected=false};opts.items[witch].selected=true};if(typeof(witch)=="string"){for(var i=0;i<opts.items.length;i++){if(opts.items[i].title==witch){if(opts.items[i].selected){return};for(var item=0;item<opts.items.length;item++){opts.items[item].selected=false};opts.items[i].selected=true}}};render()};el.showHeader=function(){opts.showHeader=true;render();render()};el.hideHeader=function(){opts.showHeader=false;render()};el.getPanel=function(witch){var index;if(typeof(witch)=="number"){index=witch};if(typeof(witch)=="string"){for(var i=0;i<opts.items.length;i++){if(opts.items[i].title==witch){index=i;break}}};return el.children(".ujs-tabs-panel").eq(index)};create();$(window).load(render).resize(render);return el}
});
$(function(){$.render()});